# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.
image:
  file: gitpod/.gitpod.Dockerfile

tasks:
  - init: |
         export VITE_BASE_URI=
         mvn install -DskipTests=true
         mysql -e 'create schema admin3;'
         cd admin3-server/target
         java -jar -Dserver.servlet.context-path=/ -Dspring.datasource.password= admin3-server-0.0.1-SNAPSHOT.jar

ports:
  - port: 8080
    onOpen: open-preview
